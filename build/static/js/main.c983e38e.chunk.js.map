{"version":3,"sources":["store/reducer/reducer.js","asyncActions/asyncActions.js","components/flatListItem/index.js","components/flatListItem/flatListItem.js","components/error/index.js","components/error/error.js","components/spinner/index.js","components/spinner/spinner.js","components/flaList/flatList.js","components/flaList/index.js","App.js","store/store.js","index.js"],"names":["defaultState","flats","likeFlats","error","loading","ADD_ALL_FLATS","LIKE_FLAT","DISLIKE_FLAT","ERROR","LOADING","addLoadingAction","type","fetchFlats","dispatch","fetch","then","response","json","payload","catch","e","FlatListItem","word","item","useDispatch","itemObj","id","attributes","relationships","title","rooms","address","area","unit","city","street","house","room","typeRel","attributesRel","first_name","last_name","middle_name","useState","isLiked","setLiked","likedFlat","addDisLikeFlatAction","Icon","classChecked","className","onClick","map","i","toUpperCase","join","Error","Spinner","Button","style","button","FlatList","flatList","flatsArr","useSelector","state","likedArr","filtered","setFiltered","filterTrigger","renderItems","array","buttonFilter","func","text","length","App","store","createStore","action","filteredLike","filter","idDis","filteredDis","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c983e38e.chunk.js","sourcesContent":["const defaultState = {\r\n   flats: [],\r\n   likeFlats: [],\r\n   error: false,\r\n   loading: false\r\n}\r\n\r\nconst ADD_ALL_FLATS = 'ADD_ALL_FLATS';\r\nconst LIKE_FLAT = 'LIKE_FLAT';\r\nconst DISLIKE_FLAT = 'DISLIKE_FLAT';\r\nconst ERROR = 'ERROR';\r\nconst LOADING = 'LOADING';\r\n\r\n\r\nexport const flatReducer = (state = defaultState, action) => {\r\n   switch (action.type) {\r\n      case ADD_ALL_FLATS:\r\n         return {\r\n            ...state,\r\n            error: false,\r\n            flats: [...action.payload]\r\n         }\r\n      case LIKE_FLAT:\r\n         const id = action.payload;\r\n         const filteredLike = state.flats.filter(item => item.id === id)\r\n         return {\r\n            ...state,\r\n            likeFlats: [...state.likeFlats, ...filteredLike]\r\n         }\r\n      case DISLIKE_FLAT:\r\n         const idDis = action.payload;\r\n         const filteredDis = state.likeFlats.filter(item => item.id !== idDis)\r\n         return {\r\n            ...state,\r\n            likeFlats: [...filteredDis]\r\n         }\r\n      case LOADING: {\r\n         return {\r\n            ...state,\r\n            error: false,\r\n            loading: !state.loading\r\n         }\r\n      }\r\n      case ERROR:\r\n         return {\r\n            ...state,\r\n            flats: [],\r\n            loading: false,\r\n            error: true\r\n         }\r\n      default:\r\n         return state\r\n   }\r\n\r\n}\r\nexport const addAllFlatsAction = (payload) => ({ type: ADD_ALL_FLATS, payload });\r\n\r\nexport const addLikeFlatAction = (payload) => ({ type: LIKE_FLAT, payload });\r\n\r\nexport const addDisLikeFlatAction = (payload) => ({ type: DISLIKE_FLAT, payload });\r\n\r\nexport const addErrorAction = () => ({ type: ERROR });\r\n\r\nexport const addLoadingAction = () => ({ type: LOADING });","import { addAllFlatsAction, addErrorAction, addLoadingAction } from '../store/reducer/reducer';\r\n\r\nexport const fetchFlats = () => {\r\n   return function (dispatch) {\r\n      fetch('http://localhost:3001/response')\r\n         .then(response => response.json())\r\n         .then(json => [dispatch(addLoadingAction()), dispatch(addAllFlatsAction(json))])\r\n         .catch(e => dispatch(addErrorAction()))\r\n   }\r\n}","import FlatListItem from './flatListItem';\r\n\r\nexport default FlatListItem","import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport './flatListItem.sass';\r\nimport { addLikeFlatAction, addDisLikeFlatAction } from '../../store/reducer/reducer';\r\n\r\nconst FlatListItem = ({ item }) => {\r\n   const dispatch = useDispatch();\r\n   const itemObj = item;\r\n   const { type, id, attributes, relationships } = itemObj;\r\n   const { title, rooms, address, area, unit } = attributes;\r\n   const { city, street, house, room } = address;\r\n   const { type: typeRel, id: idRel, attributes: attributesRel } = relationships;\r\n   const { first_name, last_name, middle_name } = attributesRel;\r\n\r\n   const [isLiked, setLiked] = useState(true);\r\n\r\n   const likedFlat = () => {\r\n      setLiked(!isLiked)\r\n      if (isLiked === true) {\r\n         dispatch(addLikeFlatAction(id))\r\n      }\r\n      else {\r\n         dispatch(addDisLikeFlatAction(id))\r\n      }\r\n   }\r\n\r\n   const getAgent = (word) => {\r\n      return [...word].map((item, i) => i === 0 ? item.toUpperCase() : item).join('')\r\n   }\r\n\r\n   const Icon = ({ classChecked = '' }) => {\r\n      return (\r\n         <i className={`cardItem__icon${classChecked} fa fa-heart`} onClick={likedFlat}> </i>\r\n      )\r\n   }\r\n\r\n\r\n   return (\r\n      <div className='cardItem'>\r\n         {/* <div className=\"cardItem__general\">\r\n            <ul>\r\n               <li>{`Type:${type}`}</li>\r\n               <li>{`Id:${id}`}</li>\r\n            </ul>\r\n         </div> */}\r\n\r\n         <div className=\"cardItem__description\">\r\n            <div className=\"cardItem__description__attributes\">\r\n               <ul className='cardItem__items'>\r\n                  <li className='item'>{`Тип : ${type} ,`}</li>\r\n                  <li className='item'>{`Описание : ${title},`}</li>\r\n                  <li className='item'>{`Количество комнат : ${rooms} ,`}</li>\r\n                  <li className='item'>{`Адрес : ${city}, ${street} ${house}; квартира ${room} ,`}</li>\r\n                  <li className='item'>{`Площадь : ${area} ${unit} ;`}</li>\r\n               </ul>\r\n            </div>\r\n            <div className=\"cardItem__description__relationships\">\r\n               <ul>\r\n                  {/* <li className='item'>{`Тип: ${typeRel}`}</li>\r\n                  <li className='item'>{`id: ${idRel}`}</li> */}\r\n                  <li className='item'>{`${getAgent(typeRel)} : ${last_name} ${first_name} ${middle_name}`}</li>\r\n               </ul>\r\n            </div>\r\n         </div>\r\n         <div className='cardItem__icon-wrapper'>\r\n            {isLiked !== true ?\r\n               <Icon classChecked='_checked' />\r\n               :\r\n               <Icon />}\r\n         </div>\r\n      </div>\r\n   )\r\n}\r\nexport default FlatListItem\r\n\r\n","import Error from './error';\n\nexport default Error;","import React from 'react';\nimport './error.sass'\n\nconst Error = () => {\n   return <div className=\"error\">Что-то пошло не так. Проверьте консоль на наличие ошибки!</div>\n}\nexport default Error;","import Spinner from './spinner'\r\n\r\nexport default Spinner","import React from 'react';\r\nimport './spinner.sass';\r\n\r\nconst Spinner = () => {\r\n   return (\r\n      <div className=\"loadingio-spinner-spin-6ke7djstohu\"><div className=\"ldio-vavmzy6d25f\">\r\n         <div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div>\r\n      </div></div>\r\n   )\r\n}\r\n\r\nexport default Spinner;","import React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { fetchFlats } from '../../asyncActions/asyncActions';\r\nimport { addLoadingAction } from '../../store/reducer/reducer';\r\nimport FlatListItem from '../flatListItem';\r\nimport Error from '../error';\r\nimport Spinner from '../spinner';\r\nimport './flatList.sass';\r\nimport style from 'styled-components';\r\n\r\nconst Button = style.button`\r\ntext-align:center;\r\nborder:none;\r\nwidth:100px;\r\ntext-decoration: none;\r\ndisplay: block;\r\ncolor: white;\r\npadding: 10px 0;\r\nmargin: 0 10px;\r\nborder-radius: 10px;\r\ntext-transform: uppercase;\r\nletter-spacing: 2px;\r\nbackground-image: linear-gradient(to right, #9EEFE1 0%, #4830F0 51%, #9EEFE1 100%);\r\nbackground-size: 200% auto;\r\nbox-shadow: 0 0 20px rgba(0, 0, 0, .1);\r\noutline:none;\r\ncursor:pointer\r\n`\r\n\r\n\r\nfunction FlatList() {\r\n   const dispatch = useDispatch();\r\n   const flatsArr = useSelector(state => state.flats);\r\n   const likedArr = useSelector(state => state.likeFlats);\r\n   const error = useSelector(state => state.error);\r\n   const loading = useSelector(state => state.loading);\r\n\r\n   const [filtered, setFiltered] = useState(false);\r\n\r\n   const filterTrigger = () => {\r\n      setFiltered(!filtered);\r\n   }\r\n\r\n   const renderItems = (array) => {\r\n      return array.map((item) =>\r\n         <FlatListItem key={item.id} item={item} />)\r\n   }\r\n\r\n   const buttonFilter = (func, text = '') => (\r\n      <Button Button onClick={() => func()}> {text}</Button >\r\n   )\r\n\r\n   const uploadClick = () => {\r\n      return [dispatch(addLoadingAction()),\r\n      dispatch(fetchFlats())]\r\n   }\r\n\r\n\r\n   return (\r\n      <>\r\n         <div className='btns'>\r\n            <Button onClick={uploadClick}>Upload</Button>\r\n            {flatsArr.length > 0 && !error ?\r\n               !filtered ? buttonFilter(filterTrigger, 'Liked')\r\n                  :\r\n                  buttonFilter(filterTrigger, 'All')\r\n               : null\r\n            }\r\n         </div>\r\n         {flatsArr.length === 0 && !loading ?\r\n            <h1 className='cards__title'>Загрузите данные</h1>\r\n            : flatsArr.length === 0 && loading ? <Spinner /> : null\r\n         }\r\n         <div className='cards'>\r\n            {\r\n               error ? <Error /> : flatsArr.length > 0 && !error ?\r\n                  !filtered ? renderItems(flatsArr)\r\n                     : likedArr.length > 0 ? renderItems(likedArr)\r\n                        : <h1 className='cards__title_grid'>Выберите понравившееся вам посты</h1>\r\n                  : null\r\n            }\r\n         </div>\r\n      </>\r\n   )\r\n}\r\n\r\nexport default FlatList","import flatList from './flatList';\r\n\r\nexport default flatList;","import './App.css';\nimport FlatList from './components/flaList';\n\nfunction App() {\n\n   return (\n      <div className=\"container\">\n         <FlatList />\n      </div>\n   );\n}\n\nexport default App;\n","import { flatReducer } from './reducer/reducer';\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\n\r\n\r\nconst store = createStore(flatReducer, composeWithDevTools(applyMiddleware(thunk)));\r\n\r\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux'\nimport store from './store/store';\n\n\nReactDOM.render(\n   <React.StrictMode>\n         <Provider store={store}>\n            <App />\n         </Provider>\n   </React.StrictMode>,\n   document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}